ìœ„í¬ë§µ 
// ë§µê³¼ ìœ„í¬ë§µì˜ ì²«ë²ˆì§¸ ì°¨ì´: ìœ„í¬ë§µì˜ í‚¤ëŠ” ë°˜ë“œì‹œ ê°ì²´
let weakMap = new WeakMap();
let obj = {};

weakMap.set(obj, "ok"); //ì •ìƒì ìœ¼ë¡œ ë™ì‘(ê°ì²´ í‚¤)
weakMap.set("test", "Whoops"); // Error: Invalid value used as weak map key <ë¬¸ìì—´("test")ì€ í‚¤ë¡œ ì‚¬ìš©í•  ìˆ˜ ì—†ìŒ>

// ìœ„í¬ë§µì˜ í‚¤ë¡œ ì‚¬ìš©ëœ ê°ì²´ë¥¼ ì°¸ì¡°í•˜ëŠ” ê²ƒì´ ì•„ë¬´ê²ƒë„ ì—†ë‹¤ë©´ í•´ë‹¹ ê°ì²´ëŠ” ìë™ìœ¼ë¡œ ì‚­ì œë¨
let Gyubin = {name: "Gyubin"};

let weakMap = new WeakMap();
weakMap.set(Gyubin, "...");

Gyubin = null; // ì°¸ì¡°ë¥¼ ë®ì–´ì”€. Gyubinì„ ë‚˜íƒ€ë‚´ëŠ” ê°ì²´ëŠ” ì´ì œ ë©”ëª¨ë¦¬ì—ì„œ ì§€ì›Œì§


//------------------------------------------------------------------------------------------------------------------------------------------
// ë§µê³¼ ìœ„í¬ë§µ ë‘ë²ˆì§¸ ì°¨ì´: ìœ„í¬ë§µì€ ë°˜ë³µì‘ì—…ê³¼ keys(), values(), entries() ë©”ì„œë“œë¥¼ ì§€ì›í•˜ì§€ ì•ŠìŒ
// ìœ„í¬ë§µì´ ì§€ì›í•˜ëŠ” ë©”ì„œë“œëŠ” ì•„ë˜ 4:
weakMap.get(key);
weakMap.set(key, value);
weakMap.delete(key);
weakMap.has(key); // ìœ„í¬ë§µì„ ì§€ì›í•˜ëŠ” ë©”ì„œë“œê°€ ì ì€ì´ìœ  : ê°€ë¹„ì§€ ì»¬ë ‰ì…˜ ë™ì‘ ë°©ì‹ 


// ìœ ìŠ¤ ì¼€ì´ìŠ¤: ì¶”ê°€ ë°ì´í„°------------------------------------------------------------------------------------------------------------------------------------------
// ìœ„í¬ë§µì€ 'ë¶€ì°¨ì ì¸ ë°ì´í„°'ë¥¼ ì €ì¥í•  ê³³ì´ í•„ìš”í•  ë•Œ ì§„ê°€ë¥¼ ë°œíœ˜
// ì“¸ëª¨ì—†ëŠ” ë°ì´í„°ë¥¼ ìˆ˜ë™ìœ¼ë¡œ ë¹„ì›Œì£¼ëŠ”ê²Œ ê³¨ì¹˜ì•„í”Œ ë•Œ, ìœ„í¬ë§µì„ ìœ ìš©í•˜ê²Œ ì‚¬ìš© ê°€ëŠ¥

ì˜ˆì‹œ ; // ì‚¬ìš©ìì˜ ë°©ë¬¸ íšŸìˆ˜ë¥¼ ì„¸ì–´ ì£¼ëŠ” ì½”ë“œ
// ğŸ“ visitsCount.js
let visitsCountMap = new WeakMap(); // ìœ„í¬ë§µì— ì‚¬ìš©ìì˜ ë°©ë¬¸ íšŸìˆ˜ë¥¼ ì €ì¥

function countUser(user) { // ì‚¬ìš©ìê°€ ë°©ë¬¸í•˜ë©´ ë°©ë¬¸ íšŸìˆ˜ë¥¼ ëŠ˜ë ¤ì¤Œ
  let count = visitsCountMap.get(user) || 0;
  visitsCountMap.set(user, count + 1);
};

// ğŸ“ main.js
let Gyubin = {name: "Gyubin"};

countUser(Gyubin); // Gyubinì˜ ë°©ë¬¸ íšŸìˆ˜ë¥¼ ì¦ê°€

Gyubin = null; // Gyubinì˜ ë°©ë¬¸ íšŸìˆ˜ë¥¼ ì…€ í•„ìš”ê°€ ì—†ì–´ì§€ë©´ Gyubinì„ nullë¡œ ë®ì–´ì”Œì›€


// ìœ ìŠ¤ ì¼€ì´ìŠ¤: ìºì‹±(caching)------------------------------------------------------------------------------------------------------------------------------------------
// ìºì‹±: ì‹œê°„ì´ ì˜¤ë˜ ê±¸ë¦¬ëŠ” ì‘ì—…ì˜ ê²°ê³¼ë¥¼ ì €ì¥í•´ì„œ ì—°ì‚° ì‹œê°„ê³¼ ë¹„ìš©ì„ ì ˆì•½í•´ì£¼ëŠ” ê¸°ë²•


//------------------------------------------------------------------------------------------------------------------------------------------
ìœ„í¬ì…‹
/* ì…‹ê³¼ ìœ ì‚¬í•˜ë‚˜, ê°ì²´ë§Œ ì €ì¥í•  ìˆ˜ ìˆìŒ
*  ì…‹ê³¼ ë§ˆì°¬ê°€ì§€ë¡œ ì§€ì›í•˜ëŠ” ë©”ì„œë“œëŠ” ë‹¨ì¶œí•¨ : add, has, delete ì‚¬ìš©í•  ìˆ˜ ìˆê³  size, keys()ë‚˜ ë°˜ë³µì‘ì—… ê´€ë ¨ ë©”ì„œë“œ ì‚¬ìš© ë¶ˆê°€
*  ìœ„í¬ë§µì²˜ëŸ¼ ë¶€ì°¨ì ì¸ ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ”ë° ì‚¬ìš©. 
*  í•˜ì§€ë§Œ, ìœ„í¬ë§µì²˜ëŸ¼ ë³µì¡í•œ ë°ì´í„°ë¥¼ ì €ì¥í•˜ì§€ ì•Šê³  'ì˜ˆ'ë‚˜ 'ì•„ë‹ˆì˜¤'ê°™ì€ ê°„ë‹¨í•œ ë‹µë³€ì„ ì–»ëŠ” ìš©ë„ë¡œ ì‚¬ìš©*/

ì˜ˆì‹œ ; // ì‚¬ìš©ìì˜ ë°©ë¬¸ ì—¬ë¶€ ì¶”ì  ì½”ë“œ

let visitedSet = new WeakSet();

let Gyubin = {name: "Gyubin"};
let pete = {name: "Pete"};
let mary = {name: "Mary"};

visitedSet.add(Gyubin); // Gyubinì´ ì‚¬ì´íŠ¸ë¥¼ ë°©ë¬¸
visitedSet.add(pete);   // ì´ì–´ì„œ Peteê°€ ì‚¬ì´íŠ¸ë¥¼ ë°©ë¬¸
visitedSet.add(Gyubin); // ì´ì–´ì„œ Gyubinì´ ë‹¤ì‹œ ì‚¬ì´íŠ¸ë¥¼ ë°©ë¬¸

// visitedSetì—” ë‘ ëª…ì˜ ì‚¬ìš©ìê°€ ì €ì¥

alert(visitedSet.has(Gyubin)); // true // Gyubinì˜ ë°©ë¬¸ ì—¬ë¶€ë¥¼ í™•ì¸


alert(visitedSet.has(mary)); // false // Maryì˜ ë°©ë¬¸ ì—¬ë¶€ë¥¼ í™•ì¸

Gyubin = null; // visitedSetì—ì„œ Gyubinì„ ë‚˜íƒ€ë‚´ëŠ” ê°ì²´ê°€ ìë™ìœ¼ë¡œ ì‚­ì œ


// ìœ„í¬ì…‹ê³¼ ìœ„í¬ë§µì˜ ê°€ì¥ í° ë‹¨ì : ë°˜ë³µ ì‘ì—… ë¶ˆê°€ëŠ¥: ìœ„í¬ë§µê³¼ ìœ„í¬ì…‹ì€ ê°ì²´ì™€ í•¨ê»˜ â€˜ì¶”ê°€â€™ ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ” ìš©ë„ë¡œ ì“¸ ìˆ˜ ìˆìŒ